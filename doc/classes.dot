digraph {
    label="using namespace Casio::FZ_1::API;\n\n"
    labelloc=t;
    fontname="Fantasque Sans Mono Bold"
    fontsize=24
    rankdir=TB
    ranksep=1

    edge [
        fontname="Fantasque Sans Mono Bold"
        fontsize=16
        penwidth=4
        arrowsize=2
        len=1
    ]

    node [
        fontname="Fantasque Sans Mono Bold"
        fontsize=20
        shape=Mrecord
        fillcolor=gray50
        penwidth=4
    ]
    subgraph {
        penwidth=0

        block_file_in[label="«block file»\n[.fzb, .fze, .fzf, .fzv]"];
        block_file_out[label="«block file»\n[.fzb, .fze, .fzf, .fzv]"];
        fzml_file_in[label="«text file»\n[.fzml]"];
        fzml_file_out[label="«text file»\n[.fzml]"];
        wav_file_in[label="«wave file»\n[.wav]"];


        BlockDumper[label="BlockDumper"];
        BlockLoader[label="BlockLoader"];
        MemoryBlocks[label="MemoryBlocks"];
        MemoryObject[label="MemoryObject"];
        MemoryWave[label="MemoryWave"];
        XmlDumper[label="XmlDumper"];
        XmlLoader[label="XmlLoader"];

        block_file_out -> BlockLoader [style=dotted];
        BlockLoader -> MemoryBlocks [label="load()"];
        MemoryBlocks -> BlockDumper [label="dump()"];
        BlockDumper -> block_file_in [style=dotted];
        MemoryObject -> MemoryBlocks [label="MemoryObject::pack()"];
        MemoryBlocks -> MemoryObject [label="unpack()"];
        fzml_file_out -> XmlLoader [style=dotted];
        XmlLoader -> MemoryObject [label="load()"];
        MemoryObject -> XmlDumper [label="dump()"];
        XmlDumper -> fzml_file_in [style=dotted];
        MemoryObject -> MemoryWave [style=dashed, label="wave()"];
        MemoryWave ->wav_file_in [style=dotted, label="dump_wav()"];

        { rank=source block_file_out fzml_file_out }
        { rank=sink block_file_in fzml_file_in wav_file_in }
    }
}
